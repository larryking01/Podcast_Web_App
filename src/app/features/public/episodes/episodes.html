<article>
     <app-navbar />
     
    <app-page-header 
        [pageTitle]="'Explore Episodes'"
        [subTitle]="'Discover new voices, ideas, and confessions in every episode.'" />


    <!-- Filters and Search -->
    <section class="filters-section">
        <div class="container">
            <div class="filters-container">
                <div class="search-box">
                    <input type="text" placeholder="Search episodes..." class="search-input">
                    <button class="search-btn">üîç</button>
                </div>
            </div>
        </div>
    </section>


    <!-- Episodes List -->
    <section class="episodes-section">
        <div class="container">
            @if( paginatedEpisodes.length > 0 ) {
            <div class="episodes-list">
                @for( episode of paginatedEpisodes; track episode.id ) {
                    <!-- Episode Item -->
                    <div class="episode-item">
                        <img [src]="episode.img_url" alt="Episode" class="episode-thumbnail">
                        <div class="episode-details">
                            <div class="episode-header">
                                <h3>Episode {{ episode.id }}: {{ episode.title }}</h3>
                                <span class="episode-category">Season: {{ episode.season }}</span>
                            </div>
                            <p class="episode-description">{{ episode.description }}</p>
                            <div class="episode-meta">
                                <span class="episode-duration">üïí {{ episode.duration }}</span>
                                <span class="episode-date">üìÖ {{ episode.posted_on }}</span>
                            </div>
                            <div class="episode-actions">
                                <button class="btn btn-play" (click)="onPlayClick( episode )">‚ñ∂ Play Now</button>
                                
                                <button class="btn btn-play" (click)="navigateToEpisodeDetails(episode.id)" >Details</button>
                                
                                <div class="podcast-links">
                                    <a [routerLink]="episode.spotify_url">
                                        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="48" height="48" viewBox="0 0 48 48">
                                        <path fill="#8bc34a" d="M24.001,4c-11.077,0-20,8.923-20,20s8.923,20,20,20c11.076,0,20-8.923,20-20S35.077,4,24.001,4z"></path><path fill="#fff" d="M31.747,33.915c-0.292,0-0.585-0.145-0.877-0.292c-2.777-1.607-6.139-2.484-9.792-2.484c-2.047,0-4.093,0.291-5.993,0.73c-0.292,0-0.731,0.146-0.877,0.146c-0.731,0-1.169-0.586-1.169-1.17c0-0.73,0.438-1.17,1.023-1.314c2.338-0.586,4.677-0.877,7.161-0.877c4.093,0,7.893,1.021,11.108,2.924c0.438,0.291,0.731,0.584,0.731,1.314C32.916,33.478,32.331,33.915,31.747,33.915z M33.793,28.945c-0.438,0-0.73-0.144-1.023-0.291c-3.068-1.9-7.308-3.071-12.13-3.071c-2.339,0-4.531,0.293-6.139,0.733c-0.439,0.144-0.585,0.144-0.877,0.144c-0.877,0-1.462-0.73-1.462-1.461c0-0.877,0.439-1.316,1.169-1.607c2.192-0.584,4.385-1.023,7.454-1.023c4.97,0,9.793,1.17,13.593,3.507c0.584,0.291,0.877,0.877,0.877,1.461C35.255,28.215,34.67,28.945,33.793,28.945z M36.132,23.101c-0.438,0-0.585-0.146-1.023-0.291c-3.508-2.047-8.769-3.217-13.885-3.217c-2.631,0-5.262,0.293-7.6,0.877c-0.293,0-0.585,0.146-1.023,0.146c-1.023,0.146-1.754-0.73-1.754-1.754c0-1.023,0.585-1.607,1.315-1.754c2.777-0.877,5.7-1.17,9.062-1.17c5.554,0,11.4,1.17,15.785,3.654c0.584,0.293,1.022,0.877,1.022,1.754C37.886,22.369,37.154,23.101,36.132,23.101z"></path>
                                        </svg> 
                                    </a>    
                                
                                    <a [routerLink]="episode.apple_podcasts_url">
                                        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="48" height="48" viewBox="0 0 64 64">
                                        <radialGradient id="cQpz8rqTYDkBleiaDWhfia_Ko99AWRloUwy_gr1" cx="32" cy="33.5" r="30.301" gradientTransform="matrix(1 0 0 -1 0 66)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#f7e9c2"></stop><stop offset=".219" stop-color="#fbeecc"></stop><stop offset=".644" stop-color="#fff3db"></stop><stop offset="1" stop-color="#fff5e0"></stop></radialGradient>
                                        <path fill="url(#cQpz8rqTYDkBleiaDWhfia_Ko99AWRloUwy_gr1)" d="M63.99,36.31C64.1,38.33,62.5,40,60.5,40h-9.48C51.009,40,51,40.009,51,40.02v5.96	c0,0.011,0.009,0.02,0.02,0.02h9.48c1.58,0,2.81,1.46,2.43,3.11C62.66,50.25,61.54,51,60.37,51H59.5c-0.825,0-1.5,0.675-1.5,1.5l0,0	c0,0.825,0.675,1.5,1.5,1.5l0,0c2,0,3.6,1.67,3.49,3.69C62.9,59.58,61.2,61,59.3,61H4c-2.48,0-4.43-2.26-3.92-4.82	C0.47,54.29,2.25,53,4.18,53H5c2.92,0,5.26-2.51,4.98-5.49C9.73,44.91,7.4,43,4.78,43H4c-2.48,0-4.43-2.26-3.92-4.82	C0.47,36.29,2.07,35,4,35l0,0c1.301,0,2.332-1.252,1.899-2.634C5.633,31.52,4.776,31,3.89,31H3.5c-2,0-3.6-1.67-3.49-3.69	C0.1,25.42,1.8,24,3.7,24h7.28c0.011,0,0.02-0.009,0.02-0.02v-4.96c0-0.011-0.009-0.02-0.02-0.02H3.5	c-1.577,0-2.805-1.445-2.432-3.091C1.329,14.757,2.448,14,3.63,14H4.5C5.33,14,6,13.33,6,12.5S5.33,11,4.5,11h-1	c-2,0-3.6-1.67-3.49-3.69C0.1,5.42,1.8,4,3.7,4H60c2.34,0,4.21,2.01,3.98,4.39c-0.19,2.05-2,3.56-4.04,3.61H58.5	c-2.485,0-4.5,2.015-4.5,4.5l0,0c0,2.485,0,4.5,0,4.5h6c2.48,0,4.43,2.26,3.92,4.82C63.53,27.71,61.93,29,60,29l0,0	c-1.1,0-2,0.9-2,2l0,0c0,1.1,0.9,2,2,2h0.3C62.2,33,63.9,34.42,63.99,36.31z"></path><linearGradient id="cQpz8rqTYDkBleiaDWhfib_Ko99AWRloUwy_gr2" x1="32" x2="32" y1="60.916" y2="7.741" gradientTransform="matrix(1 0 0 -1 0 66)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#7c9eea"></stop><stop offset=".277" stop-color="#798ce6"></stop><stop offset=".737" stop-color="#7780e3"></stop><stop offset="1" stop-color="#7363dc"></stop></linearGradient>
                                        <path fill="url(#cQpz8rqTYDkBleiaDWhfib_Ko99AWRloUwy_gr2)" d="M17,8h30c4.971,0,9,4.029,9,9v30c0,4.971-4.029,9-9,9H17c-4.971,0-9-4.029-9-9V17	C8,12.029,12.029,8,17,8z"></path><linearGradient id="cQpz8rqTYDkBleiaDWhfic_Ko99AWRloUwy_gr3" x1="32" x2="32" y1="60.916" y2="7.741" gradientTransform="matrix(1 0 0 -1 0 66)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#7c9eea"></stop><stop offset=".277" stop-color="#798ce6"></stop><stop offset=".737" stop-color="#7780e3"></stop><stop offset="1" stop-color="#7363dc"></stop></linearGradient>
                                        <path fill="url(#cQpz8rqTYDkBleiaDWhfic_Ko99AWRloUwy_gr3)" d="M56,17v30c0,4.97-4.03,9-9,9H17c-4.97,0-9-4.03-9-9V17c0-4.97,4.03-9,9-9h30	C51.97,8,56,12.03,56,17z"></path><circle cx="32" cy="29" r="4" fill="#fff"></circle><path fill="#fff" d="M28.759,48.261l-1.199-8.316c-0.341-2.363,1.196-4.645,3.427-4.879	c0.503-0.053,1.006-0.077,1.509-0.07c2.439,0.03,4.298,2.342,3.932,4.914l-1.188,8.346c-0.16,1.126-1.124,2.341-2.163,2.606	c-0.718,0.183-1.437,0.183-2.155-0.001C29.884,50.597,28.921,49.385,28.759,48.261z"></path><path fill="#fff" d="M32,14c-9.37,0-17,7.63-17,17c0,7.51,4.91,13.91,11.68,16.14l-0.38-2.27C20.85,42.62,17,37.25,17,31	c0-8.27,6.73-15,15-15s15,6.73,15,15c0,6.27-3.87,11.66-9.35,13.89l-0.34,2.25C44.09,44.91,49,38.52,49,31C49,21.63,41.37,14,32,14z"></path>
                                        <path fill="#fff" d="M32,19c-6.62,0-12,5.38-12,12c0,4.31,2.28,8.09,5.7,10.21l-0.48-2.86C23.24,36.51,22,33.9,22,31	c0-5.51,4.49-10,10-10s10,4.49,10,10c0,2.98-1.31,5.65-3.38,7.49l-0.42,2.78C41.67,39.17,44,35.35,44,31C44,24.38,38.62,19,32,19z"></path><linearGradient id="cQpz8rqTYDkBleiaDWhfid_Ko99AWRloUwy_gr4" x1="14.5" x2="14.5" y1="54.038" y2="-2.22" gradientTransform="matrix(1 0 0 -1 0 66)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#7c9eea"></stop><stop offset=".25" stop-color="#798ce6"></stop><stop offset=".288" stop-color="#7780e3"></stop><stop offset=".485" stop-color="#7571df"></stop><stop offset=".721" stop-color="#7366dd"></stop><stop offset="1" stop-color="#7363dc"></stop></linearGradient>
                                        <path fill="url(#cQpz8rqTYDkBleiaDWhfid_Ko99AWRloUwy_gr4)" d="M21,9.5c0,0.83-0.67,1.5-1.5,1.5H15c-0.55,0-1.05,0.22-1.41,0.59C13.22,11.95,13,12.45,13,13	c0,1.1,0.9,2,2,2h0.5c1.47,0,2.64,1.26,2.49,2.76c-0.13,1.3-1.32,2.24-2.63,2.24H8v-3c0-4.97,4.03-9,9-9h2.5C20.33,8,21,8.67,21,9.5	z"></path><linearGradient id="cQpz8rqTYDkBleiaDWhfie_Ko99AWRloUwy_gr5" x1="51.248" x2="47.137" y1="96.226" y2="7.596" gradientTransform="matrix(1 0 0 -1 0 66)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#7c9eea"></stop><stop offset=".277" stop-color="#798ce6"></stop><stop offset=".737" stop-color="#7780e3"></stop><stop offset=".971" stop-color="#7363dc"></stop></linearGradient>
                                        <path fill="url(#cQpz8rqTYDkBleiaDWhfie_Ko99AWRloUwy_gr5)" d="M56,44v3c0,4.971-4.029,9-9,9h-5.879c-0.997,0-1.927-0.675-2.093-1.659	C38.819,53.092,39.788,52,41,52h8.5c0.828,0,1.5-0.672,1.5-1.5l0,0c0-0.828-0.672-1.5-1.5-1.5h-0.856c-1.308,0-2.5-0.94-2.631-2.241	C45.862,45.263,47.035,44,48.5,44H56z"></path>
                                        </svg>   
                                    </a>    
                                </div>
                            </div>
                        </div>
                    </div>
                }

                <mat-paginator 
                    [length]="episodesArray.length"
                    [pageSize]="pageSize"
                    [pageSizeOptions]="[5, 10, 20]"
                    (page)="onPageChange($event)"
                >
                </mat-paginator>

            </div>

            }
        </div>
    </section>

    <app-footer />
</article>