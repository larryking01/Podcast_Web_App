<article>
    <app-navbar />

    <app-page-header
        [pageTitle]="'Spill It'" 
        [subTitle]="'Real thoughts. Real feelings. Unfiltered and unashamed.'"
    />


    <!-- Confession Form -->
    <section class="section">
        <div class="container">
            <div class="confession-form-container">
                <div class="form-intro">
                    <h2>Share Your Story</h2>
                    <p>This is a safe space to share your thoughts, experiences, or confessions anonymously. Your identity will remain completely private, and all submissions are reviewed before being shared with our community.</p>
                    <div class="privacy-notice">
                        <h4>ðŸ”’ Privacy & Safety</h4>
                        <ul>
                            <li>All confessions are completely anonymous</li>
                            <li>We don't collect any personal information</li>
                            <li>Content is moderated for safety and appropriateness</li>
                            <li>You can choose to include an optional title</li>
                        </ul>
                    </div>
                </div>

                <form class="confession-form" [formGroup]="confessionForm" (ngSubmit)="submitConfession()">
                    <div class="form-group">
                        <label for="confession-title">Category</label>
                        <select formControlName="category">
                            @for( category of confessionCategories; track $index ) {
                                <option [value]="category">{{ category }}</option>
                            }
                        </select>
                        <!-- <input type="text" id="confession-title" placeholder="Give your confession a title..." maxlength="100"> -->
                        <small class="form-hint">A descriptive category for your confession</small>
                    </div>

                    <div class="form-group">
                        <label for="confession-content">Your Confession *</label>
                        <textarea id="confession-content" formControlName="message" placeholder="Share your story, thoughts, or confession here..." rows="8" maxlength="2000" required></textarea>
                        <small class="form-hint">Maximum 2000 characters. Be respectful and honest.</small>
                        <div class="character-count">
                            <span id="char-count">0</span>/2000
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="confession-content">Emotion*</label>
                        <select formControlName="emotion">
                            @for( emotion of emotions; track emotion ) {
                                <option [value]="emotion">{{ emotion }}</option>
                            }
                        </select>
                    </div>

                    <div class="form-group">
                        <div class="guidelines">
                            <h4>Community Guidelines</h4>
                            <p>Please ensure your confession follows these guidelines:</p>
                            <ul>
                                <li>Be respectful and considerate</li>
                                <li>No hate speech or discriminatory content</li>
                                <li>No personal information about others</li>
                                <li>No illegal activities or harmful content</li>
                                <li>Keep it genuine and honest</li>
                            </ul>
                        </div>
                    </div>

                    <div class="form-actions">
                        <!-- <button type="button" class="btn btn-secondary" onclick="clearForm()">Clear</button> -->
                        <button type="submit" class="btn btn-play">Submit Confession</button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <app-footer />
</article>